/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={371:(t,e,r)=>{r(738).config(Object.assign({},r(547),r(962)(process.argv)))},962:t=>{const e=/^dotenv_config_(encoding|path|debug|override)=(.+)$/;t.exports=function(t){return t.reduce((function(t,r){const n=r.match(e);return n&&(t[n[1]]=n[2]),t}),{})}},547:t=>{const e={};null!=process.env.DOTENV_CONFIG_ENCODING&&(e.encoding=process.env.DOTENV_CONFIG_ENCODING),null!=process.env.DOTENV_CONFIG_PATH&&(e.path=process.env.DOTENV_CONFIG_PATH),null!=process.env.DOTENV_CONFIG_DEBUG&&(e.debug=process.env.DOTENV_CONFIG_DEBUG),null!=process.env.DOTENV_CONFIG_OVERRIDE&&(e.override=process.env.DOTENV_CONFIG_OVERRIDE),t.exports=e},738:(t,e,r)=>{const n=r(147),o=r(17),i=r(37),s=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function a(t){console.log(`[dotenv][DEBUG] ${t}`)}const c={config:function(t){let e=o.resolve(process.cwd(),".env"),r="utf8";const s=Boolean(t&&t.debug),u=Boolean(t&&t.override);var l;t&&(null!=t.path&&(e="~"===(l=t.path)[0]?o.join(i.homedir(),l.slice(1)):l),null!=t.encoding&&(r=t.encoding));try{const t=c.parse(n.readFileSync(e,{encoding:r}));return Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(process.env,e)?(!0===u&&(process.env[e]=t[e]),s&&a(!0===u?`"${e}" is already defined in \`process.env\` and WAS overwritten`:`"${e}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[e]=t[e]})),{parsed:t}}catch(t){return s&&a(`Failed to load ${e} ${t.message}`),{error:t}}},parse:function(t){const e={};let r,n=t.toString();for(n=n.replace(/\r\n?/gm,"\n");null!=(r=s.exec(n));){const t=r[1];let n=r[2]||"";n=n.trim();const o=n[0];n=n.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===o&&(n=n.replace(/\\n/g,"\n"),n=n.replace(/\\r/g,"\r")),e[t]=n}return e}};t.exports.config=c.config,t.exports.parse=c.parse,t.exports=c},147:t=>{"use strict";t.exports=require("fs")},37:t=>{"use strict";t.exports=require("os")},17:t=>{"use strict";t.exports=require("path")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";r(37);const t=require("cluster");var e=r.n(t);const n=require("http");var o=r.n(n);function i(t){return new Promise((function(e,r){try{var n="";t.on("data",(function(t){n+=t.toString()})),t.on("end",(function(){e(n)}))}catch(t){e("")}})).catch((function(){return console.log("WE ARE IN CATCH"),""}))}r(371);const s=require("crypto");var a=r.n(s);const c=new Uint8Array(256);let u=c.length;function l(){return u>c.length-16&&(a().randomFillSync(c),u=0),c.slice(u,u+=16)}const f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,d=[];for(let t=0;t<256;++t)d.push((t+256).toString(16).substr(1));const p=function(t,e=0){const r=(d[t[e+0]]+d[t[e+1]]+d[t[e+2]]+d[t[e+3]]+"-"+d[t[e+4]]+d[t[e+5]]+"-"+d[t[e+6]]+d[t[e+7]]+"-"+d[t[e+8]]+d[t[e+9]]+"-"+d[t[e+10]]+d[t[e+11]]+d[t[e+12]]+d[t[e+13]]+d[t[e+14]]+d[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&f.test(t)}(r))throw TypeError("Stringified UUID is invalid");return r},h=function(t,e,r){const n=(t=t||{}).random||(t.rng||l)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=n[t];return e}return p(n)};var g=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi,v=/\/api\/users\/.+/,y={"Content-Type":"application/json"};function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}var E=[];function x(){try{return{statusCode:200,data:E}}catch(t){return{statusCode:500,message:"Something went wrong on the server"}}}function N(t){try{console.log("newUSER: ",t);var e=t?JSON.parse(t):{};if("number"==typeof(null==e?void 0:e.age)&&"string"==typeof(null==e?void 0:e.username)&&"object"===O(null==e?void 0:e.hobbies)){var r=b(b({},e),{},{id:h()});return E.push(r),{statusCode:201,data:r}}return{statusCode:400,message:"Incorrect Data for creating new user"}}catch(t){return{statusCode:500,message:"Something went wrong on the server"}}}function S(t){try{if(console.log(t),console.log(t.match(g)),t.match(g)){var e=E.find((function(e){return e.id===t}));return e?{statusCode:200,data:e}:{statusCode:404,message:"User with this id does not exist"}}return{statusCode:400,message:"User's id is invalid - not uuid"}}catch(t){return{statusCode:500,message:"Something went wrong on the server"}}}function C(t,e){try{console.log(e);var r=e?JSON.parse(e):{};if("number"==typeof(null==r?void 0:r.age)&&"string"==typeof(null==r?void 0:r.username)&&"object"===O(null==r?void 0:r.hobbies)){if(t.match(g)){var n=E.find((function(e){return e.id===t})),o=E.findIndex((function(e){return e.id===t}));return n?(console.log(E),E.splice(o,1,b(b({},n),r)),console.log(E),{statusCode:200,data:b(b({},n),r)}):{statusCode:404,message:"User with this id does not exist"}}return{statusCode:400,message:"User's id is invalid - not uuid"}}return{statusCode:400,message:"Incorrect Data for creating new user"}}catch(t){return{statusCode:500,message:"Something went wrong on the server"}}}function j(t){try{if(console.log(t),console.log(t.match(g)),t.match(g)){var e=E.findIndex((function(e){return e.id===t}));return console.log("FOUND INDEX:",e),e>-1?(E.splice(e,1),{statusCode:204,message:"User with this id has been deleted from database"}):{statusCode:404,message:"User with this id does not exist"}}return{statusCode:400,message:"User's id is invalid - not uuid"}}catch(t){return{statusCode:500,message:"Something went wrong on the server"}}}function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}var L=["statusCode"],P=["statusCode"],T=["statusCode"],I=["statusCode"],D=["statusCode"];function G(){G=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),s=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===l)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,s),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function d(){}function p(){}var h={};a(h,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(N([])));v&&v!==e&&r.call(v,o)&&(h=v);var y=p.prototype=f.prototype=Object.create(h);function m(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,s,a){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==_(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,a(y,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(b.prototype),a(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},m(y),a(y,s,"Generator"),a(y,o,(function(){return this})),a(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=N,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function F(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function k(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}var U=process.env.PORT||3e3,A=o().createServer(function(){var t,e=(t=G().mark((function t(e,r){var n,o,s,a,c,u,l,f,d,p,h,g,m,b,w,O,E,_,k,U,A,R;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.url,o=e.method,t.prev=1,console.log(e.url),console.log(e.method),"/api/users"!==n||"GET"!==o){t.next=11;break}console.log("WE ARE IN GET"),s=x(),a=s.statusCode,c=F(s,L),r.writeHead(a,y),r.end(JSON.stringify(c)),t.next=44;break;case 11:if("/api/users"!==n||"POST"!==o){t.next=22;break}return console.log("WE ARE IN POST"),t.next=15,i(e);case 15:u=t.sent,console.log("reqData - ",u),l=N(u),f=l.statusCode,d=F(l,P),r.writeHead(f,y),r.end(JSON.stringify(d)),t.next=44;break;case 22:if(!n||null==n||!n.match(v)||"GET"!==o){t.next=31;break}console.log("WE ARE IN GET BY ID"),p=n.split("/")[3],console.log("userUuid:",p),h=S(p),g=h.statusCode,m=F(h,T),r.writeHead(g,y),r.end(JSON.stringify(m)),t.next=44;break;case 31:if(!n||null==n||!n.match(v)||"PUT"!==o){t.next=43;break}return console.log("WE ARE IN PUT"),b=n.split("/")[3],t.next=36,i(e);case 36:w=t.sent,console.log("userUuid:",b),O=C(b,w),E=O.statusCode,_=F(O,I),r.writeHead(E,y),r.end(JSON.stringify(_)),t.next=44;break;case 43:n&&n.match(v)&&"DELETE"===o?(console.log("WE ARE IN DELETE"),k=n.split("/")[3],console.log("userUuid:",k),U=j(k),A=U.statusCode,R=F(U,D),r.writeHead(A,y),r.end(JSON.stringify(R))):(r.writeHead(404,y),r.end(JSON.stringify({message:"Unfortunatelly, route not found"})));case 44:t.next=50;break;case 46:t.prev=46,t.t0=t.catch(1),r.writeHead(500,y),r.end(JSON.stringify({message:"Something went wrong on the server"}));case 50:case"end":return t.stop()}}),t,null,[[1,46]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){k(i,n,o,s,a,"next",t)}function a(t){k(i,n,o,s,a,"throw",t)}s(void 0)}))});return function(t,r){return e.apply(this,arguments)}}());console.log("ENVIRONMENT","production"),e().isPrimary,A.listen(U,(function(){return console.log("Node.js web server at port ".concat(U," and process's id ").concat(process.pid," is running."))}))})()})();